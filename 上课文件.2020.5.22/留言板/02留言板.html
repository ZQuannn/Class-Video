<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#wrap{
				width: 600px;
				background-color: gainsboro;
				margin: 30px auto;
				border: 1px solid red;
				padding: 10px;
			}
			li{
				list-style-type: none;
			}
			#content_view{
				/*border: 1px solid blue;*/
				padding: 10px;
			}
			#content_view li{
				padding: 10px 0;
			    /*line-height: 22px;*/
			}
			#content_view li #username{
				width: 530px;
				height: 30px;
				font-size: 20px;
				/*å‚ç›´å¯¹é½æ–‡æœ¬çš„é¡¶éƒ¨*/
				vertical-align: top;
			}
				#content_view li #content{
					width: 530px;
					height: 100px;
					font-size: 20px;
					/*å‚ç›´å¯¹é½æ–‡æœ¬çš„é¡¶éƒ¨*/
				    vertical-align: top;
				}
				#content_view #submit{
					width: 100px;
					height: 30px;
					border: 1px solid transparent;
					font-size: 18px;
					margin-left: 35px;
					background-color: white;
				}
			#comment_list h2{
				margin-top: 10px;
				margin-bottom: 20px;
			}	
			#comment_li h3{
				background-color: mistyrose;
				padding: 10px;
			}
			#comment_li li{
				overflow: hidden;
			}
			#comment_li p{
				padding: 10px;
				font-size: 16px;
				text-indent: 2em;
			}
			#comment_li a{
				text-decoration: none;
				float: right;
			}
		</style>
	</head>
	<body>
		<!--ç•™è¨€æ¿å†…å®¹-->
		<div id="wrap">
			<!--è¾“å…¥æ¡†éƒ¨åˆ†-->
			<div id="content_view">
				<ul>
					<li>
						<!--QQè¾“å…¥æ¡†éƒ¨åˆ†-->
						æ˜µç§°:<input type="text" id="username" />
					</li>
					<li>
						ç•™è¨€:<textarea placeholder="äº²ï¼Œç•™ä¸ªè„šå°ğŸ‘£ğŸ‘£ğŸ‘£" name="" id="content" rows="10" cols="30"></textarea>
					</li>
					<li>
						<input type="button" value="æäº¤" id="submit" />
					</li>
				</ul>
			</div>
			<!--ç•™è¨€éƒ¨åˆ†-->
			<div id="comment_list">
				<h2>æ˜¾ç¤ºç•™è¨€</h2>
				<!--ç•™è¨€è¯¦æƒ…éƒ¨åˆ†-->
				<ul id="comment_li">
					<!--ä¸€ä¸ªliä»£è¡¨ä¸€æ¡ç•™è¨€-->
			<!-- 	<li><h3>å°æ¶›</h3><p>æˆ‘æ¥è¿‡<a href="###">åˆ é™¤</a></p></li> -->
				</ul>
			</div>
			
		</div>
	</body>
	<script src="js/tween.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var userName = document.getElementById("username");
		var content = document.getElementById("content");
		var submitBtn = document.getElementById("submit");
		// ç•™è¨€æ¿çš„ul 
		var ul = document.getElementById("comment_li");
		var name,conValue,li,timer;
		var deleteA;
		//æäº¤æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
		submitBtn.onclick = function(){
			//è·å–ç”¨æˆ·åå’Œç•™è¨€ è¾“å…¥æ¡†çš„å†…å®¹
			name = userName.value;
			conValue = content.value;
			//ç½®ç©ºè¾“å…¥æ¡†
			userName.value = "";
			content.value = "";
			if (name == "" || conValue == "") {
				alert("äº²ï¼Œç”¨æˆ·åæˆ–ç•™è¨€ä¸èƒ½ä¸ºç©º");
				return;
		}
		//ç¬¬ä¸€ç§æ–¹å¼:
	    /*
		  <li><h3>å°æ¶›</h3><p>æˆ‘æ¥è¿‡<a href="###">åˆ é™¤</a></p></li>
		*/
		//åˆ›å»ºlièŠ‚ç‚¹
		li = document.createElement("li");
		li.innerHTML = '<h3>'+name+'</h3><p>'+conValue+'<a href="###">åˆ é™¤</a></p>';
		//æ¯æ¬¡ç•™è¨€åŠ åˆ°é¡¶æ¥¼
		if (ul.children.length > 0) {
			ul.insertBefore(li,ul.children[0]);
		} else{//ç¬¬ä¸€æ¡ç•™è¨€
			ul.appendChild(li);
		}
		//ä½¿ç”¨tween.jsåŠ¨ç”»
		var t = 0;
		var b = 0;//å±æ€§çš„å¼€å§‹é‡height
		var end = li.offsetHeight;//å±æ€§çš„ç»“æŸé‡
		var c = end - b;
		var d = 20;
		li.style.height = "0px";//æ¯æ¬¡æ‰§è¡ŒåŠ¨ç”»ä¹‹å‰,å°†liçš„é«˜åº¦ç½®é›¶
		clearInterval(timer);
		timer = setInterval(function(){
			t++;
			li.style.height = Tween.Bounce.easeOut(t,b,c,d) + "px";
			if (t == d) {
				clearInterval(timer);
			}
		},30);
		
		//å¤„ç†åˆ é™¤æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
		deleteA = li.getElementsByTagName("a")[0];
		deleteA.onclick = function (){
			var deleteLi = this.parentElement.parentElement;
			//æ‰§è¡Œå®ŒåŠ¨ç”»ä¹‹å,åˆ é™¤èŠ‚ç‚¹
			var t = 0;
			var b = deleteLi.offsetHeight;
			var end = 0;
			var c = end - b;
			var d = 20;
			clearInterval(timer);
			timer = setInterval(function (){
				t++;
				deleteLi.style.height = Tween.Quad.easeIn(t,b,c,d) + "px";
				if (t == d) {
					clearInterval(timer);
					//åˆ é™¤è¯¥aæ ‡ç­¾æ‰€åœ¨çš„lièŠ‚ç‚¹
					ul.removeChild(deleteLi);
				}
			},30);
			
		}
		}
		
		
		
	</script>
	
</html>
